# AW-2175: Add Scrollbars to Application Screens

Status: IMPLEMENTED

Context: PRD docs/prd/AW-2175.prd.md; plan docs/plan/AW-2175.md

## Tasks

- [x] **Task 1: Add scrollbar to AuthenticationBottomSheetContent**
  - File: `example/lib/features/locker/views/widgets/authentication_bottom_sheet_content.dart`
  - Add `ScrollController` field to the existing `StatefulWidget`
  - Dispose the controller in `dispose()` method
  - Wrap `SingleChildScrollView` with `Scrollbar` widget, sharing the controller
  - **Acceptance Criteria**:
    - Scrollbar is visible on desktop when content overflows (e.g., when keyboard pushes content)
    - `ScrollController` is properly disposed (no analyzer warnings)
    - Touch scrolling continues to work on mobile

- [x] **Task 2: Convert EntryValueDialog to StatefulWidget and add scrollbar**
  - File: `example/lib/features/locker/views/widgets/entry_value_dialog.dart`
  - Convert `StatelessWidget` to `StatefulWidget` with `_EntryValueDialogState`
  - Add `ScrollController` field with disposal in `dispose()`
  - Wrap `SingleChildScrollView` inside `content` with `Scrollbar` widget
  - **Acceptance Criteria**:
    - Scrollbar is visible on desktop when entry value exceeds 400px height
    - `ScrollController` is properly disposed (no analyzer warnings)
    - Dialog layout and `SelectableText` functionality unchanged

- [x] **Task 3: Refactor TimeoutPickerDialog to StatefulWidget and add scrollbar**
  - File: `example/lib/features/locker/views/widgets/timeout_picker_dialog.dart`
  - Create new `_TimeoutPickerDialogContent` StatefulWidget class
  - Move dialog content from `StatefulBuilder` to the new widget
  - Add `ScrollController` with proper disposal
  - Wrap `SingleChildScrollView` with `Scrollbar` widget
  - Update `showTimeoutPickerDialog` function to use the new widget
  - **Acceptance Criteria**:
    - Scrollbar is visible on desktop when options exceed visible area
    - Radio button selection state management works correctly
    - `ScrollController` is properly disposed (no analyzer warnings)

- [x] **Task 4: Verify auto-scrollbar behavior on ListView widgets**
  - Files: `example/lib/features/locker/views/widgets/entries_list_view.dart`, `example/lib/features/settings/views/settings_screen.dart`
  - Verify that `ListView.builder` in `EntriesListView` displays auto-scrollbar on desktop
  - Verify that `ListView` in `_SettingsView` displays auto-scrollbar on desktop
  - No code changes expected (Flutter 2.2+ provides auto-scrollbar)
  - **Acceptance Criteria**:
    - Scrollbars visible on desktop (macOS/Windows) when content exceeds viewport
    - Mobile platforms display platform-default scrollbar behavior (auto-hiding)
    - Document verification results (pass/fail) in PR description

- [x] **Task 5: Manual testing and validation**
  - Run `fvm flutter analyze --fatal-warnings --fatal-infos` to ensure no analyzer issues
  - Test all affected screens on desktop (macOS or Windows)
  - Test all affected screens on mobile (iOS or Android simulator)
  - Verify keyboard avoidance in `AuthenticationBottomSheetContent`
  - **Acceptance Criteria**:
    - No analyzer warnings or errors
    - All scrollable dialogs show scrollbars on desktop when content overflows
    - Touch scrolling works on mobile platforms
    - No visual regressions in existing layouts
